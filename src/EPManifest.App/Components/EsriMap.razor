@using Microsoft.Extensions.Configuration
@inject IConfiguration Configuration
@inject IJSRuntime JS
@* TODO: Figure out why CSS isolation is not working for the viewDiv. *@
<div id="viewDiv" style="padding: 0; margin: 0; height: 16.5rem; width: 100%;" />

@code {
    [Parameter]
    public string searchTerm { get; set; }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JS.InvokeVoidAsync("RenderMap", searchTerm,
                "AAPK17dc7d3fe72d4f709e26246268204f12v4vcVc-qXa829QR54exOmz_QhNa91bzIk49k_9Rp_0EbsPufxGJnkKVIwNcLHQGQ");
        }
    }
}
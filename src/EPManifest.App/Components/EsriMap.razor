@using Microsoft.Extensions.Configuration
@inject IConfiguration Configuration
@inject IJSRuntime JS
@* TODO: Figure out why CSS isolation is not working for the viewDiv. *@
<div id="viewDiv" style="padding: 0; margin: 0; height: 16.5rem; width: 100%;" />

@code {
    [Parameter]
    public string searchTerm { get; set; }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JS.InvokeVoidAsync("RenderMap", searchTerm, Configuration["Esri:ApiKey"]);
        }
    }
}